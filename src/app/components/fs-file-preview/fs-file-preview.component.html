<div [style.width.px]="previewWidth" [style.height.px]="previewHeight" class="preview-container" [ngClass]="{ 'has-actions': !!actions.length }">

  <!-- Image container -->
  <ng-container *ngIf="file.typeImage; else nonImage">
    <img [src]="preview" *ngIf="preview">
    <mat-spinner class="spinner" *ngIf="file.progress" [diameter]="previewWidth/2"></mat-spinner>
  </ng-container>

  <!-- Non image container -->
  <ng-template #nonImage>
    <div class="file-details">

      <div class="file-icon">
        <div class="file-ext">{{file.extension}}</div>
        <mat-icon>insert_drive_file</mat-icon>
      </div>
      <div class="file-name" [matTooltip]="file.name" *ngIf="showFilename && file.name">{{file.name}}</div>
    </div>
    <mat-spinner class="spinner" *ngIf="file.progress" [diameter]="previewWidth/2"></mat-spinner>
  </ng-template>

  <div class="actions">

    <div class="action mat-mini-fab mat-primary"
            *ngFor="let action of filteredActions"
            [ngClass]="action.placement"
            [matTooltip]="action.tooltip"
            (click)="callAction(action)">
      <span class="mat-button-wrapper">
        <ng-template [ngTemplateOutlet]="actionsTemplate[action.index]"></ng-template>
      </span>
    </div>
  </div>
</div>
